# NodeJS server

## Опис проєкту

Цей додаток виконує роль високопродуктивного бекенд-сервера, побудованого на Fastify, що дозволяє керувати ресурсами через стандартизований RESTful API. Розгортання здійснюється за допомогою контейнеризації через Docker Compose.

Функціональною частиною проєкту є реалізація доступу до зовнішнього сервера [OpenWeatherMap](https://openweathermap.org/forecast5) для отримання інформації про погоду, та наданні цієї інформації користувачу.

## Стек технологій

- **Nginx**
- **NodeJS**
- **Fastify**
- **ECS**

## Використання

### Вимоги до середовища

- Мати встановлений **Docker Engine** та **Docker Compose**.

### Запуск

Для запуску сервера необхідно виконати команду у терміналі з кореневого каталогу. Це запустить контейнери Nginx та Fastify:

```bash
docker compose up -d --build
```

Після виконання сервер буде запущено за адресою `http://localhost`.

## Переваги та Технічні рішення

- Легкість розгортання та ізоляція середовища завдяки **контейнеризації**;
- Роздача статичних файлів через **Nginx**;
- Забезпечення валідації через **JSON Schema** _Fastify_;
- Оптимізація логування через **Pino**;
- Генерація документації за допомогою **Open API** та її захист з використанням **Basic Auth**;
- Реалізація механізмів безпеки для API за допомогою **Session-Based
Authentication**;
- Відстаження сесій користувача на основі **Fingerpring**.

### API Ендпоінти (RESTful CRUD)

Сервер Fastify надає наступні кінцеві точки для керування ресурсами:

| Метод  | Шлях                    | Опис                                          |
|--------|-------------------------|-----------------------------------------------|
| GET    | /openapi.json           | Отримати OpenAPI документацію.                |
| GET    | /auth/info              | Отримати інформацію про поточну сесію.        |
| POST   | /auth/register          | Зареєструвати нового користувача.             |
| POST   | /auth/log/in            | Увійти в систему (створити сесію).            |
| POST   | /auth/log/out           | Вийти з системи (видалити сесію).             |
| POST   | /cities                 | Створити нове місто.                          |
| GET    | /cities/:id             | Отримати місто за ID.                         |
| PUT    | /cities/:id             | Повністю оновити місто за ID.                 |
| DELETE | /cities/:id             | Видалити місто за ID.                         |
| POST   | /cities/forecast        | Отримати прогноз погоди для міста за назвою.  |
| POST   | /forecasts              | Створити новий прогноз погоди.                |
| GET    | /forecasts/:id          | Отримати прогноз за ID.                       |
| PUT    | /forecasts/:id          | Повністю оновити прогноз за ID.               |
| DELETE | /forecasts/:id          | Видалити прогноз за ID.                       |
